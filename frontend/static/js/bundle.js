!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=React},function(e,t){e.exports=ReactRedux},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);function o(){return{type:t.LOCK}}function l(){return{type:t.CLEAR_OUTPUT}}function a(){return{type:t.UNLOCK}}function c(e){return{type:t.UPDATE_OUTPUT,output:e}}t.LOCK="LOCK",t.UNLOCK="UNLOCK",t.EXECUTE="EXECUTE",t.UPDATE_OUTPUT="UPDATE_OUTPUT",t.UPDATE_EXAMPLES="UPDATE_EXAMPLES",t.SELECT_EXAMPLE="SELECT_EXAMPLE",t.UPDATE_CODE="UPDATE_CODE",t.CLEAR_OUTPUT="CLEAR_OUTPUT",t.UPDATE_VERSION="UPDATE_VERSION",t.TOGGLE_PERMISSION="TOGGLE_PERMISSION",t.lock=o,t.clearOuput=l,t.updateCode=function(e){return{type:t.UPDATE_CODE,code:e}},t.unlock=a,t.updateOutput=c,t.updateExamples=function(e){return{type:t.UPDATE_EXAMPLES,examples:e}},t.selectExample=e=>(n,r)=>{const o=r(),l=parseInt(e.target.value);n({type:t.SELECT_EXAMPLE,selected:l}),-1!=l&&n({type:t.UPDATE_CODE,code:o.examples[l].body})},t.updateVersion=function(e){return{type:t.UPDATE_VERSION,version:e}},t.togglePermission=function(e){return{type:t.TOGGLE_PERMISSION,permission:e}},t.execute=e=>(n,s)=>{n({type:t.EXECUTE}),n(o()),n(l()),fetch("/execute",{method:"POST",body:JSON.stringify({code:e,permissions:s().permissions})}).then(e=>{let t="";const o=e.body.getReader(),l=new TextDecoder,s=()=>o.read().then(i),i=e=>{var o=l.decode(e.value||new Uint8Array(0),{stream:!e.done});if(t+=o,n(c(r.default(t))),!e.done)return s();n(a())};return s()}).catch(e=>{n(a()),alert("An error occured, please try again..."),console.log(e)})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,l){function a(e){try{s(r.next(e))}catch(e){l(e)}}function c(e){try{s(r.throw(e))}catch(e){l(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,c)}s((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),l=n(4),a=n(1),c=n(5),s=n(14),i=n(2),u=()=>l.render(o.createElement(a.Provider,{store:s.store},o.createElement(c.default,null)),document.getElementById("root"));s.store.subscribe(()=>u()),u();(()=>r(this,void 0,void 0,function*(){const e=yield fetch("/examples/examples.json"),t=yield e.json(),n=Promise.all(t.map(e=>r(this,void 0,void 0,function*(){const t=yield fetch(`/examples/${e.file}`);return e.body=yield t.text(),e}))),o=yield n;s.store.dispatch(i.updateExamples(o))}))();(()=>r(this,void 0,void 0,function*(){const e=yield fetch("/version.txt"),t=yield e.text();s.store.dispatch(i.updateVersion(t.trim()))}))()},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),l=n(6),a=n(9),c=n(11),s=n(12),i=n(13);t.default=o.connect(e=>({version:e.version}))(e=>r.createElement("div",{className:"container"},r.createElement(c.default,null),r.createElement("div",{className:"toolbar"},r.createElement(l.default,null),r.createElement(i.default,null)),r.createElement("div",{className:"main"},r.createElement(a.default,null),r.createElement(s.default,null)),r.createElement("footer",null,r.createElement("p",null,"Made with â™¥ by ",r.createElement("a",{href:"https://twitter.com/mt_harrison"},"@mt_harrison")," | ",e.version))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),l={selectExample:n(2).selectExample};t.default=o.connect(e=>({examples:e.examples,selected:e.selectedExample}),l)(e=>r.createElement("div",{className:"examples-container"},r.createElement("label",{htmlFor:"examples"},"Load Example:"),r.createElement("select",{name:"examples",id:"examples",value:e.selected,onChange:e.selectExample},r.createElement("option",{value:"-1"},"Select example:"),e.examples.map((e,t)=>r.createElement("option",{value:t,key:t},e.name)))))},function(e,t,n){"use strict";const r=n(8),o=e=>"string"==typeof e?e.replace(r(),""):e;e.exports=o,e.exports.default=o},function(e,t,n){"use strict";e.exports=e=>{e=Object.assign({onlyFirst:!1},e);const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e.onlyFirst?void 0:"g")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(10),l=n(1),a=n(2);const c={execute:a.execute,updateCode:a.updateCode};t.default=l.connect(e=>({locked:e.locked,code:e.code}),c)(class extends r.Component{componentDidMount(){this.editor=o.edit("code"),this.editor.setHighlightActiveLine(!1),this.editor.setShowPrintMargin(!1),this.editor.setOptions({fontFamily:"monospace",fontSize:"14px"}),document.getElementById("root").addEventListener("keydown",e=>{13!==e.keyCode||!0!==e.metaKey&&!0!==e.ctrlKey||this.props.execute(this.editor.getValue())})}componentDidUpdate(e){e.code!=this.props.code&&this.editor.setValue(this.props.code,-1)}render(){return r.createElement("div",{className:"editor-container"},r.createElement("pre",{className:"blue-bg",id:"code",contentEditable:!0}),r.createElement("button",{onClick:()=>this.props.execute(this.editor.getValue()),type:"button",className:"btn"},this.props.locked?"...":"Execute"))}})},function(e,t){e.exports=ace},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1);t.default=o.connect(e=>({name:e.name,url:e.url}))(e=>r.createElement("header",null,r.createElement("a",{href:e.url},r.createElement("img",{width:"80px",src:"/images/deno.svg",alt:e.name})),r.createElement("a",{href:e.url},r.createElement("h1",null,e.name)),r.createElement("ul",null,r.createElement("li",null,r.createElement("a",{href:"https://github.com/mtharrison/deno-playground",target:"_blank",rel:"noopener noreferrer"},"Contribute")))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1);t.default=o.connect(e=>({output:e.output}))(e=>r.createElement("div",{className:"output-container"},r.createElement("pre",{className:"blue-bg",id:"output"},e.output)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),l={togglePermission:n(2).togglePermission};t.default=o.connect(e=>({permissions:e.permissions}),l)(e=>r.createElement("ul",null,r.createElement("li",null,r.createElement("label",{htmlFor:"allow-net"},"--allow-net"),r.createElement("input",{onChange:()=>e.togglePermission("net"),checked:e.permissions.net,type:"checkbox",name:"allow-net",id:"allow-net"})),r.createElement("li",null,r.createElement("label",{htmlFor:"allow-read"},"--allow-read"),r.createElement("input",{onChange:()=>e.togglePermission("read"),checked:e.permissions.read,type:"checkbox",name:"allow-read",id:"allow-read"})),r.createElement("li",null,r.createElement("label",{htmlFor:"allow-write"},"--allow-write"),r.createElement("input",{onChange:()=>e.togglePermission("write"),checked:e.permissions.write,type:"checkbox",name:"allow-write",id:"allow-write"})),r.createElement("li",null,r.createElement("label",{htmlFor:"allow-run"},"--allow-run"),r.createElement("input",{onChange:()=>e.togglePermission("run"),checked:e.permissions.run,type:"checkbox",name:"allow-run",id:"allow-run"})),r.createElement("li",null,r.createElement("label",{htmlFor:"allow-env"},"--allow-env"),r.createElement("input",{onChange:()=>e.togglePermission("env"),checked:e.permissions.env,type:"checkbox",name:"allow-env",id:"allow-env"}))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15),o=n(16),l=n(2),a={output:"// output",name:"Deno playground",locked:!1,examples:[],selectedExample:-1,url:"http://deno-play.app",code:"",version:"x.x.x",permissions:{net:!1,read:!1,write:!1,run:!1,env:!1}};t.store=r.createStore(function(e=a,t){switch(t.type){case l.LOCK:return Object.assign({},e,{locked:!0});case l.UNLOCK:return Object.assign({},e,{locked:!1});case l.UPDATE_OUTPUT:return Object.assign({},e,{output:t.output});case l.UPDATE_EXAMPLES:return Object.assign({},e,{examples:t.examples});case l.SELECT_EXAMPLE:return Object.assign({},e,{selectedExample:t.selected});case l.UPDATE_CODE:return Object.assign({},e,{code:t.code});case l.CLEAR_OUTPUT:return Object.assign({},e,{output:"// loading..."});case l.UPDATE_VERSION:return Object.assign({},e,{version:t.version});case l.TOGGLE_PERMISSION:return Object.assign({},e,{permissions:Object.assign({},e.permissions,{[t.permission]:!e.permissions[t.permission]})});default:return e}},r.applyMiddleware(o.default))},function(e,t){e.exports=Redux},function(e,t){e.exports=ReduxThunk}]);
//# sourceMappingURL=bundle.js.map